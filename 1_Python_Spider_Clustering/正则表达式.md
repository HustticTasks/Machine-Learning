

# 正则表达式

`Compile:`

```python
import re

pattern = re.compile(r'text')#r的意思是原生字符串

match1 = pattern.match('text')#需要匹配的文本

if match1:
  print (match1.group())
```

search：

```python
import re

a = 'super'
b = 'superman'
c = 'insuperable'
print(re.search(a,b).span())
print(re.search(a,c).span())

#输出：
#（0，5）
#（2，7）

```

spilt:

split(string[, maxsplit]) | re.split(pattern, string[, maxsplit]):

按照能够匹配的子串将string分割后返回列表。

maxsplit用于指定最大分割次数，不指定将全部分割。

```python
import re

p = re.compile(r'\d+')

print p.split('one1two2three3four4')

#output:
#['one','two','three','four','']
```



findall:

```python
import re

p = re.compile(r'\d+')
print p.findall('one1two2three3four4')

#output
#['1','2','3','4']
```

finditer:

```python
import re  
   
p = re.compile(r'\d+')  
for m in p.finditer('one1two2three3four4'):  
    print m.group(),  
   
### output ###  
# 1 2 3 4 
```

sub:

```python
#!/usr/bin/python
import re

url = "http://hr.tencent.com/position.php?&start=10"
page = re.search('start=(\d+)',url).group(1)

nexturl = re.sub(r'start=(\d+)', 'start='+str(int(page)+10), url)
print "Next Url : ", nexturl
#Next Url :  http://hr.tencent.com/position.php?&start=20
```

subn:

```python
import re  
   
p = re.compile(r'(\w+) (\w+)')  
s = 'i say, hello world!'  
   
print p.subn(r'\2 \1', s)  
   
def func(m):  
    return m.group(1).title() + ' ' + m.group(2).title()  
   
print p.subn(func, s)  
   
### output ###  
# ('say i, world hello!', 2)  
# ('I Say, Hello World!', 2)  
#返回替换次数
```

match:

re.match只匹配字符串的开始，如果字符串开始不符合正则表达式，则匹配失败，函数返回None；而re.search匹配整个字符串，直到找到一个匹配。

| 修饰符                 | 描述                        |
| ------------------- | ------------------------- |
| re.I(re.IGNORECASE) | 使匹配对大小写不敏感                |
| re.M(MULTILINE)     | 多行匹配，影响 ^ 和 $             |
| re.S(DOTALL)        | 使 . 匹配包括换行在内的所有字符         |
| re.X(VERBOSE)       | 正则表达式可以是多行，忽略空白字符，并可以加入注释 |